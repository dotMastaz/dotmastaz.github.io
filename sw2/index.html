<html lang="fr">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>dotMastaz Service Workers - HTML5Rock</title>
    <script>
        // Service workers require HTTPS (http://goo.gl/lq4gCo). If we're running on a real web server
        // (as opposed to localhost on a custom port, which is whitelisted), then change the protocol to HTTPS.
        if ((!location.port || location.port == "80") && location.protocol != 'https:') {
            location.protocol = 'https:';
        }
    </script>
</head>
<body>
<div class="output">
    <p>service worker registration: <strong id="status"></strong></p>
</div>

<script>
    if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('/sw2/js/sw.js').then(function(registration) {
            // Registration was successful
            console.log('ServiceWorker registration successful with scope: ',    registration.scope);
        }).catch(function(err) {
            // registration failed :(
            console.log('ServiceWorker registration failed: ', err);
        });
    }
</script>
</body>
</html>